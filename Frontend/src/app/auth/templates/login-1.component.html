<div class="m-grid__item m-grid__item--fluid m-grid m-grid--ver-desktop m-grid--desktop m-grid--tablet-and-mobile m-grid--hor-tablet-and-mobile m-login m-login--1 m-login--signin"
 id="m_login">
	<div class="m-grid__item m-grid__item--order-tablet-and-mobile-2 m-login__aside">
		<div class="m-stack m-stack--hor m-stack--desktop">
			<div class="m-stack__item m-stack__item--fluid">
				<div class="m-login__wrapper" style="padding:0">
					<div class="m-login__logo">
						<a href="#">
							<img src="./assets/app/media/img//logos/logo-2.png">
						</a>
					</div>
					<div class="m-login__signin">
						<div class="m-login__head">
							<h3 class="m-login__title">
								Accedi a PCarpet
							</h3>
							<!-- <div class="m--margin-top-40 m-alert m-alert--outline m-alert--outline-2x alert alert-success fade show" role="alert">
								Use username
								<span style="font-weight: 500;">
									automobilista1
								</span>
								and password
								<span style="font-weight: 500;">
									1
								</span>
								to sign in as automobilista or username
								<span style="font-weight: 500;">
									gestore
								</span>
								and password
								<span style="font-weight: 500;">
									gestore
								</span> for manager.
							</div> -->
						</div>
						<form (ngSubmit)="f.form.valid && signin(f)" #f="ngForm" class="m-login__form m-form" action="">
							<ng-template #alertSignin></ng-template>
							<div class="form-group m-form__group">
								<input class="form-control m-input" type="text" placeholder="Username" name="username" [(ngModel)]="model.username"
								 #username="ngModel" autocomplete="off">
							</div>
							<div class="form-group m-form__group">
								<input class="form-control m-input m-login__form-input--last" type="password" placeholder="Password" name="password"
								 [(ngModel)]="model.password" #password="ngModel">
							</div>
							<div class="row m-login__form-sub">
								<div class="col m--align-left">
									<label class="m-checkbox m-checkbox--focus">
										<input type="checkbox" name="remember" [(ngModel)]="model.remember" #remember="ngModel">
										Remember me
										<span></span>
									</label>
								</div>
								<div class="col m--align-right">
									<a href="javascript:;" id="m_login_forget_password" class="m-link">
										Forget Password ?
									</a>
								</div>
							</div>
							<div class="m-login__form-action">
								<button [disabled]="loading" [ngClass]="{'m-loader m-loader--right m-loader--light': loading}" id="m_login_signin_submit"
								 class="btn btn-focus m-btn m-btn--pill m-btn--custom m-btn--air">
									Sign In
								</button>
							</div>
						</form>
					</div>

					<!-- <div class="m-login__signup">
						<div class="m-login__head">
							<h3 class="m-login__title">
								Sign Up
							</h3>
							<div class="m-login__desc">
								Scegli il tipo di account che vuoi creare:
							</div>
						</div>
						<form class="m-login__form m-form" action="">
							<div class="form-group m-form__group">
								<button [disabled]="loading"  id="m_login_signup_cancel" class="btn btn-outline-focus  m-btn m-btn--pill m-btn--custom">
									Automobilista
								</button>
								<button [disabled]="loading"  id="m_login_signup_cancel" class="btn btn-outline-focus  m-btn m-btn--pill m-btn--custom" style="float: right;">
									Gestore
								</button>
							</div>
							
							
						</form>
					</div> -->

					<div class="m-login__signup">
						<div class="m-login__head">
							<h3 class="m-login__title">
								Registrazione su PCarpet
							</h3>
							<br>
							<div class="form-group m-form__group" *ngIf="!firstTimeFlag && !ownerFlag && !driverFlag">
								<button [disabled]="loading" class="btn btn-outline-focus  m-btn m-btn--pill m-btn--custom" (click)="changeTypeDriver()">
									Automobilista
								</button>
								<button [disabled]="loading" class="btn btn-outline-focus  m-btn m-btn--pill m-btn--custom" style="float: right;"
								 (click)="changeTypeOwner()">
									Gestore
								</button>
							</div>

						</div>

						<!-- form driver -->
						<form (ngSubmit)="setFirstTrue()" #f="ngForm" class="m-login__form m-form" action="" *ngIf="driverFlag && !firstTimeFlag">
							<ng-template #alertSignup></ng-template>
							<div class="m-login__desc">
								Enter your details to create your driver account:
							</div>
							<div class="form-group m-form__group">
								<input class="form-control m-input" type="text" placeholder="Username" name="username" [(ngModel)]="model.username"
								 #username="ngModel" required>
							</div>
							<!-- <div class="form-group m-form__group">
								<input class="form-control m-input" type="text" placeholder="Name" name="name" [(ngModel)]="model.name" #name="ngModel"
								 required>
							</div>
							<div class="form-group m-form__group">
								<input class="form-control m-input" type="text" placeholder="Last Name" name="lastname" [(ngModel)]="model.lastname"
								 #lastname="ngModel" required>
							</div> -->
							<div class="form-group m-form__group">
								<input class="form-control m-input" type="text" placeholder="Phone Number" name="phone" [(ngModel)]="model.phone"
								 #phone="ngModel" required>
							</div>
							<div class="form-group m-form__group">
								<input class="form-control m-input" type="text" placeholder="Email" name="email" [(ngModel)]="model.email"
								 #email="ngModel" required>
							</div>
							<div class="form-group m-form__group">
								<input class="form-control m-input" type="password" placeholder="Password" name="password" [(ngModel)]="model.password"
								 #password="ngModel">
							</div>
							<div class="form-group m-form__group">
								<input class="form-control m-input m-login__form-input--last" type="password" placeholder="Confirm Password"
								 name="rpassword" [(ngModel)]="model.rpassword" #rpassword="ngModel">
							</div>
							<div class="row form-group m-form__group m-login__form-sub">
								<div class="col m--align-left">
									<label class="m-checkbox m-checkbox--focus">
										<input type="checkbox" name="agree" [(ngModel)]="model.agree" #agree="ngModel">
										I Agree the
										<a href="#" class="m-link m-link--focus">
											terms and conditions
										</a>
										.
										<span></span>
									</label>
									<span class="m-form__help"></span>
								</div>
							</div>
							<div class="m-login__form-action">
								<button [disabled]="loading" [ngClass]="{'m-loader m-loader--right m-loader--light': loading}" id="m_login_signup_submit"
								 class="btn btn-focus m-btn m-btn--pill m-btn--custom m-btn--air">
									Sign Up
								</button>
								<button [disabled]="loading" id="m_login_signup_cancel" class="btn btn-outline-focus  m-btn m-btn--pill m-btn--custom" (click)="cancelForm()">
									Cancel
								</button>
							</div>
						</form>

						<!-- form owner (set true FirstTimeFlag)-->
						<form (ngSubmit)="setFirstTrue()" #f="ngForm" class="m-login__form m-form" action="" *ngIf="ownerFlag && !firstTimeFlag">
							<ng-template #alertSignup></ng-template>
							<div class="m-login__desc">
								Enter your details to create your owner account:
							</div>
							<div class="form-group m-form__group">
								<input class="form-control m-input" type="text" placeholder="Username" name="username" [(ngModel)]="model.username"
								 #username="ngModel" required>
							</div>	
							<div class="form-group m-form__group">
								<input class="form-control m-input" type="text" placeholder="Phone Number" name="phone" [(ngModel)]="model.phone"
								 #phone="ngModel" required>
							</div>
							<div class="form-group m-form__group">
								<input class="form-control m-input" type="text" placeholder="Email" name="email" [(ngModel)]="model.email"
								 #email="ngModel" required>
							</div>
							<div class="form-group m-form__group">
								<input class="form-control m-input" type="password" placeholder="Password" name="password" [(ngModel)]="model.password"
								 #password="ngModel">
							</div>
							<div class="form-group m-form__group">
								<input class="form-control m-input m-login__form-input--last" type="password" placeholder="Confirm Password"
								 name="rpassword" [(ngModel)]="model.rpassword" #rpassword="ngModel">
							</div>				
							<div class="row form-group m-form__group m-login__form-sub">
								<div class="col m--align-left">
									<label class="m-checkbox m-checkbox--focus">
										<input type="checkbox" name="agree" [(ngModel)]="model.agree" #agree="ngModel">
										I Agree the
										<a href="#" class="m-link m-link--focus">
											terms and conditions
										</a>
										.
										<span></span>
									</label>
									<span class="m-form__help"></span>
								</div>
							</div>
							<div class="m-login__form-action">
								<button [disabled]="loading" [ngClass]="{'m-loader m-loader--right m-loader--light': loading}" id="m_login_signup_submit"
								 class="btn btn-focus m-btn m-btn--pill m-btn--custom m-btn--air">
									Sign Up
								</button>
								<!-- if Cancel.. set false firstTimeFlag  (ngSubmit)="setFirstFalse()"-->
								<button [disabled]="loading" id="m_login_signup_cancel" class="btn btn-outline-focus  m-btn m-btn--pill m-btn--custom" (click)="cancelForm()">
									Cancel
								</button>
							</div>
						</form>

						<!-- driver choice -->
						<form (ngSubmit)="f.form.valid && signup()" #f="ngForm" class="m-login__form m-form" action="" *ngIf="driverFlag && firstTimeFlag && model.email">
							<ng-template #alertSignup></ng-template>
							<div class="m-login__desc">
								Grazie per aver scelto PCarpet!
								<br>Ti accompagneremo a tutti i tuoi appuntamenti e ti suggeriremo i parcheggi liberi e giusti per la tua auto.
								<br> Sei un automobilista speciale? Hai disabilità?
							</div>

							<div class="m-login__form-action">
								<div class="form-group m-form__group">
									<input class="form-control m-input" type="text" placeholder="Codice cartellino" name="cod" [(ngModel)]="model.handiccaped"
									 #cod="ngModel">
								</div>
							<br>
								<button [disabled]="loading" class="btn btn-outline-focus  m-btn m-btn--pill m-btn--custom" style="float: right;" (click)="driverSignup()">
									Avanti
								</button>
							</div>
						</form>
						
						<!-- owner choice -->
						<form (ngSubmit)="f.form.valid && signup()" #f="ngForm" class="m-login__form m-form" action="" *ngIf="ownerFlag && firstTimeFlag && model.email">
							<ng-template #alertSignup></ng-template>
							<div class="m-login__desc">
								Grazie per aver scelto PCarpet!
								<br>Gestione e controllo dei tuoi stalli in modo semplice ed istantaneo!
								<br> Il tuo è un account:
							</div>

							<div class="m-login__form-action">
								<button [disabled]="loading" class="btn btn-outline-focus  m-btn m-btn--pill m-btn--custom" (click)="publicOwner()">
									Pubblico
								</button>
								<button [disabled]="loading" class="btn btn-outline-focus  m-btn m-btn--pill m-btn--custom" style="float: right;"
								 (click)="privateOwner()">
									Privato
								</button>
							</div>
						</form>

						<!-- mail o password non inseriti -->
						<form (ngSubmit)="signin()" #f="ngForm" class="m-login__form m-form" action="" *ngIf="ownerFlag && firstTimeFlag && (model.email==null || model.password==null)">
							<ng-template #alertSignup></ng-template>
							<div class="m-login__desc">
								email o password non validi! Torna alla Home!
							</div>
						</form>
					</div>

					<div class="m-login__forget-password">
						<div class="m-login__head">
							<h3 class="m-login__title">
								Forgotten Password ?
							</h3>
							<div class="m-login__desc">
								Enter your email to reset your password:
							</div>
						</div>
						<form (ngSubmit)="f.form.valid && forgotPass()" #f="ngForm" class="m-login__form m-form" action="">
							<ng-template #alertForgotPass></ng-template>
							<div class="form-group m-form__group">
								<input class="form-control m-input" type="text" placeholder="Email" name="email" [(ngModel)]="model.email"
								 #email="ngModel" id="m_email" autocomplete="off">
							</div>
							<div class="m-login__form-action">
								<button [disabled]="loading" [ngClass]="{'m-loader m-loader--right m-loader--light': loading}" id="m_login_forget_password_submit"
								 class="btn btn-focus m-btn m-btn--pill m-btn--custom m-btn--air">
									Request
								</button>
								<button [disabled]="loading" id="m_login_forget_password_cancel" class="btn btn-outline-focus m-btn m-btn--pill m-btn--custom">
									Cancel
								</button>
							</div>
						</form>
					</div>
				</div>
			</div>
			<div class="m-stack__item m-stack__item--center">
				<div class="m-login__account">
					<span class="m-login__account-msg">
						Don't have an account yet ?
					</span>
					&nbsp;&nbsp;
					<a href="javascript:;" id="m_login_signup" class="m-link m-link--focus m-login__account-link">
						Sign Up
					</a>
				</div>
			</div>
		</div>
	</div>
	<div class="m-grid__item m-grid__item--fluid m-grid m-grid--center m-grid--hor m-grid__item--order-tablet-and-mobile-1	m-login__content"
	 style="background-image: url(./assets/app/media/img//bg/bg-4.jpg)">
		<div class="m-grid__item m-grid__item--middle">
			<h3 class="m-login__welcome">
				Join Our Community
			</h3>
			<p class="m-login__msg">
				Lorem ipsum dolor sit amet, coectetuer adipiscing
				<br>
				elit sed diam nonummy et nibh euismod
			</p>
		</div>
	</div>
</div>